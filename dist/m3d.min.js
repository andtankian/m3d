!function(i,s,t,l){function n(s,t){this.element=s,this.options=i.extend({},e,t),this._defaults=e,this._name=o,this.$el=i(s),this.lis=this.$el.children("li"),this.lis=this.lis[0]?this.lis:{},this.willDrop=!0,this.init()}var o="m3d",e={origin:"tl",maxDelay:.3};n.prototype={init:function(){this.$el.css({display:"block"}).addClass("m3d-origin-"+this.options.origin),this.adjustTransitions(this.willDrop);var s=this;i(t).on("click","body",function(t){var l=t.target,n=i(l),o=i(n).data("m3d-toggle");o&&o===s.$el.attr("id")?s.toggle():s.rise()})},toggle:function(){var i=this;setTimeout(function(){i.$el.toggleClass("m3d-toggled"),i.adjustTransitions(i.willDrop),i.willDrop=!i.willDrop},1)},drop:function(){this.$el.hasClass("m3d-toggled")||this.$el.addClass("m3d-toggled"),this.adjustTransitions(!0),this.willDrop=!1},rise:function(){i(this.$el.removeClass("m3d-toggled")),this.adjustTransitions(!1),this.willDrop=!0},adjustTransitions:function(i){var s=this.options.maxDelay,t=this.lis.size();t=0===t?1:t;var l=s/t,n=this;i?(this.lis.each(function(i,s){s.style.transition="all 0.3s ease "+l*(i+1)+"s"}),this.$el.css("transition","all 0.3s ease")):(this.lis.each(function(i,s){s.style.transition="all 0.2s ease "+.5*l*(n.lis.size()-i)+"s"}),this.$el.css("transition","all 0.2s ease "+.5*s+"s"))}},i.fn[o]=function(s){return this.each(function(){i.data(this,"plugin_"+o)||i.data(this,"plugin_"+o,new n(this,s))})}}(jQuery,window,document);